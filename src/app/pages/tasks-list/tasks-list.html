<div class="container mt-4">
  <h1 class="mb-3">Список задач</h1>

  <div class="row mb-3">
    <div class="col-md-6">
      <input
        type="text"
        class="form-control"
        placeholder="Поиск по заголовку"
        [(ngModel)]="searchText"
      />
    </div>
    <div class="col-md-3">
      <select
        class="form-select"
        [(ngModel)]="statusFilter"
      >
        <option value="all">Все</option>
        <option value="done">Выполнена</option>
        <option value="not done">Не выполнена</option>
      </select>
    </div>
  </div>

  <a class="btn btn-primary mb-3" [routerLink]="['/tasks/new']">Добавить задачу</a>

  <ul class="list-group">
    <li *ngFor="let task of filteredTasks" class="list-group-item d-flex justify-content-between align-items-center">
      <div>
        <strong>{{ task.title }}</strong> —
        <span [ngClass]="{
          'badge bg-success': task.status === 'done',
          'badge bg-secondary': task.status === 'not done'
        }">{{ task.status }}</span>
      </div>
      <div>
        <button class="btn btn-sm btn-warning me-2" (click)="toggleStatus(task.id)">Сменить статус</button>
        <a class="btn btn-sm btn-info me-2" [routerLink]="['/tasks', task.id]">Подробнее</a>
        <button class="btn btn-sm btn-danger" (click)="deleteTask(task.id)">Удалить</button>
      </div>
    </li>
  </ul>
</div>
